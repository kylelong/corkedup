{"ast":null,"code":"import _objectSpread from\"/Users/kylelong/corkedup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/kylelong/corkedup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/kylelong/corkedup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Logo from'./Logo';import'../styles/Payment.css';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import{Link}from\"react-router-dom\";/** \n * check for valid access code. Access code is correct or not, no empty\n * Errors with blank content in all boxes then submit valid code\n * If accesscode is valid disregard an cc info\n *  Proceed if accesscode is valid or no errors and everything is filled\n * if accesscode is corrent or (every field other than accesscode is valid and no errors)\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{'& > *':{margin:theme.spacing(1),width:'25ch'}}};});function Payment(props){var _useState15;var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),cardNumber=_useState2[0],setCardNumber=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),card=_useState4[0],setCard=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),fullName=_useState6[0],setFullName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),accessCode=_useState8[0],setAccessCode=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),expDate=_useState10[0],setExpDate=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),cvv=_useState12[0],setCVV=_useState12[1];var _useState13=useState((_useState15={accessCode:\"\",cardNumber:\"\",fullName:\"\"},_defineProperty(_useState15,\"accessCode\",\"\"),_defineProperty(_useState15,\"expDate\",\"\"),_defineProperty(_useState15,\"cvv\",\"\"),_useState15)),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];var validName=function validName(name){return name.length>0&&name.length<55;};var validCode=function validCode(code){return code===\"kU3G4VpNFR\";};var validCard=function validCard(card){var regEx=/^[0-9]{16}$/;return regEx.test(card);};var validCVV=function validCVV(cvv){// 3,4 digit number\nvar regEx=/^[0-9]{3,4}$/;return regEx.test(cvv);};var validDate=function validDate(date){// MM/YY\nvar regEx=/^(0[1-9]|1[0-2])\\/?([0-9]{2})$/;return regEx.test(date);};var validPayment=function validPayment(){return validName(fullName)&&validCVV(cvv)&&validDate(expDate)&&validCard(card);};var containsErrors=function containsErrors(){for(var error in errors){if(errors[error].length>0){return true;}}return false;};var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(name===\"accessCode\"){setAccessCode(value);}if(name===\"cardNumber\"){setCardNumber(value.replace(/[^\\dA-Z]/g,'').replace(/(.{4})/g,'$1 ').trim());var _card=value.replace(/\\s/g,\"\");setCard(_card);if(!validCard(_card)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cardNumber:\"Card number must be 16 digits.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cardNumber:\"\"});});}}if(name===\"fullName\"){setFullName(value);if(value.length>55){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{fullName:\"Name must be less than 55 characters.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{fullName:\"\"});});}}if(name===\"expDate\"){setExpDate(value);if(!validDate(value)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{expDate:\"Must be a valid date in the format MM/YY.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{expDate:\"\"});});}}if(name===\"cvv\"){setCVV(value);if(!validCVV(value)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cvv:\"CVV must be a 3 or 4 digit number.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cvv:\"\"});});}}};var clickedButton=function clickedButton(e){// console.log(\"Payment: \", validPayment(), \"code: \", accessCode.length > 0 && validCode(accessCode));\n//kU3G4VpNFR\n// console.log( ( (accessCode.length > 0 && validCode(accessCode)) || validPayment() ));\nif(accessCode.length>0&&!validCode(accessCode)){e.preventDefault();}if(!validPayment()&&!(accessCode.length>0)){e.preventDefault();}//Check for blank\nif(accessCode.length>0){if(!validCode(accessCode)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{accessCode:\"Invalid access code.\"});});}}else{if(fullName.length===0){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{fullName:\"Name can't be empty.\"});});}else if(fullName.length>55){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{fullName:\"Name must be less than 55 characters.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{fullName:\"\"});});}if(cardNumber.length===0){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cardNumber:\"Card number can't be empty.\"});});}else if(!validCard(card)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cardNumber:\"Card number must be 16 digits.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cardNumber:\"\"});});}if(expDate.length===0){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{expDate:\"Expiration date can't be empty.\"});});}else if(!validDate(expDate)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{expDate:\"Must be a valid date in the format MM/YY.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{expDate:\"\"});});}if(cvv.length===0){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cvv:\"Security code can't be empty.\"});});}else if(!validCVV(cvv)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cvv:\"CVV must be a 3 or 4 digit number.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{cvv:\"\"});});}}/*\n        if access code is valid and cc info is entered, ignore cc infor\n        */};return/*#__PURE__*/_jsx(\"div\",{className:\"main2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container2\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(\"div\",{className:\"paymentContainer\",children:/*#__PURE__*/_jsx(\"h3\",{id:\"instruction\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Almost there! Enter your payment information to start enjoying Corked Up.\"})})}),/*#__PURE__*/_jsxs(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",id:\"signupForm\",children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Access Code\",variant:\"outlined\",name:\"accessCode\",onChange:onChange}),errors.accessCode.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.accessCode}),/*#__PURE__*/_jsx(\"span\",{style:{textAlign:\"center\"},children:\" or \"}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Name On Card\",variant:\"outlined\",name:\"fullName\",placeholder:\"John Doe\",onChange:onChange}),errors.fullName.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.fullName}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Card Number\",variant:\"outlined\",name:\"cardNumber\",placeholder:\"#### #### #### ####\",value:cardNumber,inputProps:{maxLength:19},onChange:onChange}),errors.cardNumber.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.cardNumber}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Expiration Date\",variant:\"outlined\",name:\"expDate\",placeholder:\"MM/YY\",inputProps:{maxLength:5},onChange:onChange}),errors.expDate.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.expDate}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Security Code\",variant:\"outlined\",name:\"cvv\",placeholder:\"***\",inputProps:{maxLength:4},onChange:onChange}),errors.cvv.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.cvv}),accessCode.length>0&&validCode(accessCode)||validPayment()?/*#__PURE__*/_jsx(Link,{to:\"/bars\",children:/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-light is-medium is-fullwidth\",onClick:clickedButton,children:\"Submit\"})})}):/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-light is-medium is-fullwidth\",onClick:clickedButton,children:\"Submit\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Already an account? Sign in\"})]})]})});}export default Payment;","map":{"version":3,"sources":["/Users/kylelong/corkedup/src/components/Payment.js"],"names":["React","useEffect","useState","Logo","makeStyles","TextField","Link","useStyles","theme","root","margin","spacing","width","Payment","props","classes","cardNumber","setCardNumber","card","setCard","fullName","setFullName","accessCode","setAccessCode","expDate","setExpDate","cvv","setCVV","errors","setErrors","validName","name","length","validCode","code","validCard","regEx","test","validCVV","validDate","date","validPayment","containsErrors","error","onChange","e","target","value","replace","trim","prevErrors","clickedButton","preventDefault","textAlign","maxLength"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Logo from './Logo';\nimport '../styles/Payment.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from \"react-router-dom\";\n/** \n * check for valid access code. Access code is correct or not, no empty\n * Errors with blank content in all boxes then submit valid code\n * If accesscode is valid disregard an cc info\n *  Proceed if accesscode is valid or no errors and everything is filled\n * if accesscode is corrent or (every field other than accesscode is valid and no errors)\n */\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '25ch',\n      },\n    },\n  }));\nfunction Payment(props) {\n\n    const classes = useStyles();\n    const [cardNumber, setCardNumber] = useState(\"\");\n    const [card, setCard] = useState(\"\");\n    const [fullName, setFullName] = useState(\"\");\n    const [accessCode, setAccessCode] = useState(\"\");\n    const [expDate, setExpDate] = useState(\"\");\n    const [cvv, setCVV] = useState(\"\");\n    const [errors, setErrors] = useState({\n        accessCode: \"\",\n        cardNumber: \"\",\n        fullName: \"\",\n        accessCode: \"\",\n        expDate: \"\",\n        cvv: \"\"\n    });\n\n    const validName = (name) => {\n        return name.length > 0 && name.length < 55;\n    }\n    const validCode = (code) => {\n        return code === \"kU3G4VpNFR\";\n    }\n    const validCard = (card) => {\n        const regEx = /^[0-9]{16}$/;\n        return regEx.test(card);\n    }\n\n    const validCVV = (cvv) => {\n        // 3,4 digit number\n        const regEx = /^[0-9]{3,4}$/;\n        return regEx.test(cvv);\n    }\n\n    const validDate = (date) => {\n        // MM/YY\n        const regEx = /^(0[1-9]|1[0-2])\\/?([0-9]{2})$/;\n        return regEx.test(date);\n    }\n    const validPayment = () => {\n        return validName(fullName) && validCVV(cvv) && validDate(expDate) && validCard(card);\n    }\n\n    const containsErrors = () => {\n        for(let error in errors){\n            if(errors[error].length > 0){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    const onChange = (e) => {\n        const { name, value } = e.target;\n        if(name === \"accessCode\"){\n            setAccessCode(value);\n        }\n        if(name === \"cardNumber\"){\n            setCardNumber(value.replace(/[^\\dA-Z]/g, '').replace(/(.{4})/g, '$1 ').trim());\n            let card = value.replace(/\\s/g, \"\");\n            setCard(card);\n            if(!validCard(card)){\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number must be 16 digits.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"\" }));\n            }\n        }\n        if(name === \"fullName\"){\n            setFullName(value);\n            if(value.length > 55){\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"Name must be less than 55 characters.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"\" }));\n            }\n        }\n        if(name === \"expDate\"){\n            setExpDate(value);\n            if(!validDate(value)){\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"Must be a valid date in the format MM/YY.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"\" }));\n            }\n        }\n        if(name === \"cvv\"){\n            setCVV(value);\n            if(!validCVV(value)){\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"CVV must be a 3 or 4 digit number.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"\" }));\n            }\n        }\n\n    }\n\n    const clickedButton = (e) => {\n        // console.log(\"Payment: \", validPayment(), \"code: \", accessCode.length > 0 && validCode(accessCode));\n        //kU3G4VpNFR\n        // console.log( ( (accessCode.length > 0 && validCode(accessCode)) || validPayment() ));\n\n        if(accessCode.length > 0 && !validCode(accessCode)){\n            e.preventDefault();\n        }\n\n        if(!validPayment() && !(accessCode.length > 0)){\n            e.preventDefault();\n        }\n\n\n        //Check for blank\n        if(accessCode.length > 0){\n            if(!validCode(accessCode)){\n                setErrors(prevErrors => ({ ...prevErrors, accessCode: \"Invalid access code.\" }));\n            }\n        } else{\n            if(fullName.length  === 0){\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"Name can't be empty.\" }));\n            } else if(fullName.length > 55){\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"Name must be less than 55 characters.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"\" }));\n            }\n    \n            if(cardNumber.length === 0){\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number can't be empty.\" }));\n            } else if(!validCard(card)){\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number must be 16 digits.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"\" }));\n            }\n    \n            if(expDate.length === 0){\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"Expiration date can't be empty.\" }));\n            } else if(!validDate(expDate)){\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"Must be a valid date in the format MM/YY.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"\" }));\n            }\n    \n            if(cvv.length === 0){\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"Security code can't be empty.\" }));\n            }  else if(!validCVV(cvv)){\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"CVV must be a 3 or 4 digit number.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"\" }));\n            }\n        }\n    \n        /*\n        if access code is valid and cc info is entered, ignore cc infor\n        */\n    }\n\n    return (\n        <div className=\"main2\">\n            <div className=\"container2\">\n                <Logo />\n                <div className=\"paymentContainer\">\n                    <h3 id=\"instruction\"><b>Almost there! Enter your payment information to start enjoying Corked Up.</b></h3>\n                   \n                </div>\n\n                <form className={classes.root} noValidate autoComplete=\"off\" id=\"signupForm\">\n                     <TextField id=\"outlined-basic\" label=\"Access Code\" variant=\"outlined\" name=\"accessCode\" onChange={onChange} />\n                     { (errors.accessCode.length > 0) &&\n                       <p className=\"error\">{errors.accessCode}</p>\n                    }\n\n                    <span style={{textAlign: \"center\"}}> or </span>\n\n                    <TextField id=\"outlined-basic\" label=\"Name On Card\" variant=\"outlined\" name=\"fullName\" placeholder=\"John Doe\" onChange={onChange} />\n                    { (errors.fullName.length > 0) &&\n                       <p className=\"error\">{errors.fullName}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Card Number\" variant=\"outlined\" name=\"cardNumber\" placeholder=\"#### #### #### ####\" value={cardNumber} inputProps={{ maxLength:19 }} onChange={onChange} />\n                    { (errors.cardNumber.length > 0) &&\n                       <p className=\"error\">{errors.cardNumber}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Expiration Date\" variant=\"outlined\" name=\"expDate\" placeholder=\"MM/YY\" inputProps={{ maxLength:5 }} onChange={onChange} />\n                    { (errors.expDate.length > 0) &&\n                       <p className=\"error\">{errors.expDate}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Security Code\" variant=\"outlined\" name=\"cvv\" placeholder=\"***\" inputProps={{ maxLength:4 }} onChange={onChange} />\n                    {(errors.cvv.length > 0)&&\n                       <p className=\"error\">{errors.cvv}</p>\n                    }\n                 \n                 { ((accessCode.length > 0 && validCode(accessCode)) || validPayment() )  ?\n                            <Link to=\"/bars\">\n                                <div className=\"buttons\">\n                                    <button className=\"button is-info is-light is-medium is-fullwidth\" onClick={clickedButton}>Submit</button> \n                                </div>\n                            </Link>\n                            :\n                            <div className=\"buttons\">\n                                <button className=\"button is-info is-light is-medium is-fullwidth\"  onClick={clickedButton}>Submit</button> \n                            </div>\n                       }\n                       \n                    <Link to=\"/\">Already an account? Sign in</Link>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Payment;"]},"metadata":{},"sourceType":"module"}