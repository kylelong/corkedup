{"ast":null,"code":"import _defineProperty from\"/Users/kylelong/corkedup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/kylelong/corkedup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kylelong/corkedup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import Restaurant from'./Restaurant';import EventsHeader from'./EventsHeader';import Navigation from'../Navigation';import'../../styles/WineBars.css';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import SideMenu from'../SideMenu';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{'& > *':{margin:theme.spacing(1),width:'25ch'}}};});var Restaurants=function Restaurants(){var _jsx2;var _useState=useState(\"94109\"),_useState2=_slicedToArray(_useState,2),zipCode=_useState2[0],setZipCode=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState({zipcode:\"\"}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),zipCodeSave=_useState8[0],setZipCodeSave=_useState8[1];var classes=useStyles();useEffect(function(){axios.get(\"/restaurants\",{params:{zipCode:zipCode}}).then(function(response){setData(response.data);}).catch(function(error){console.log(error);});},[zipCode]);var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setZipCodeSave(false);if(name===\"zipcode\"){if(value.length===5){var regEx=/^[0-9]{5}$/;if(value.match(regEx)){console.log(value);setZipCode(value);setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{zipCode:\"\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{zipCode:\"Zipcode must be 5 digits\"});});}}}};var updateZipcode=function updateZipcode(e){//update zipcode\ne.preventDefault();if(errors.zipCode.length===0){console.log(zipCode);//update zipcode on backend\nsetZipCodeSave(true);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(SideMenu,{}),/*#__PURE__*/_jsx(EventsHeader,{headline:\"Restaurants where you can enjoy a glass with a nice meal\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wineBarsContainer\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",id:\"zipCodeForm\",onSubmit:function onSubmit(e){e.preventDefault();},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"zipcode\",children:\"Zipcode\"}),/*#__PURE__*/_jsx(TextField,(_jsx2={id:\"outlined-basic\",label:zipCode,variant:\"outlined\",name:\"zipcode\"},_defineProperty(_jsx2,\"id\",\"zipcode\"),_defineProperty(_jsx2,\"placeholder\",zipCode),_defineProperty(_jsx2,\"inputProps\",{maxLength:5}),_defineProperty(_jsx2,\"onChange\",onChange),_jsx2)),errors.zipcode.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.zipCode}),zipCodeSave&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"green\"},children:\"Zip Code successfully saved.\"})]}),data.hasOwnProperty(\"businesses\")&&Object.entries(data.businesses).map(function(_ref,i){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return/*#__PURE__*/_jsx(Restaurant,{name:value.name,display_name:value.display_phone,display_address:value.location.display_address.join(\"\\n\"),price:value.price,url:value.url},value.id);})]})]});};export default Restaurants;","map":{"version":3,"sources":["/Users/kylelong/corkedup/src/components/events/Restaurants.js"],"names":["axios","React","useEffect","useState","Restaurant","EventsHeader","Navigation","makeStyles","TextField","SideMenu","useStyles","theme","root","margin","spacing","width","Restaurants","zipCode","setZipCode","data","setData","zipcode","errors","setErrors","zipCodeSave","setZipCodeSave","classes","get","params","then","response","catch","error","console","log","onChange","e","target","name","value","length","regEx","match","prevErrors","updateZipcode","preventDefault","maxLength","color","hasOwnProperty","Object","entries","businesses","map","i","key","display_phone","location","display_address","join","price","url","id"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Restaurant from './Restaurant';\nimport EventsHeader from './EventsHeader';\nimport Navigation from '../Navigation';\nimport '../../styles/WineBars.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport SideMenu from '../SideMenu';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '25ch',\n      },\n    },\n  }));\nconst Restaurants = () =>  {\n\n    const [zipCode, setZipCode] = useState(\"94109\")\n    const [data, setData] = useState([]);\n    const [errors, setErrors] = useState({zipcode: \"\"});\n    const [zipCodeSave, setZipCodeSave] = useState(false);\n    const classes = useStyles();\n    useEffect(() => {\n        axios.get(\"/restaurants\", {params: { zipCode: zipCode} })\n        .then((response) => {\n            setData(response.data)\n        })\n        .catch((error) => {\n            console.log(error);\n        })\n\n    }, [zipCode])\n    const onChange = (e) => {\n        const { name, value } = e.target;\n        setZipCodeSave(false);\n        if(name === \"zipcode\"){\n            if(value.length  === 5){\n                const regEx = /^[0-9]{5}$/;\n                if(value.match(regEx)){\n                    console.log(value);\n                    setZipCode(value);\n                    setErrors(prevErrors => ({ ...prevErrors, zipCode: \"\" }));\n                }\n                else{\n                    setErrors(prevErrors => ({ ...prevErrors, zipCode: \"Zipcode must be 5 digits\" }));\n                }\n            }\n        }\n    }\n    const updateZipcode = (e) => {\n        //update zipcode\n        e.preventDefault();\n        if(errors.zipCode.length === 0){\n            console.log(zipCode);\n            //update zipcode on backend\n            setZipCodeSave(true);\n        }\n\n    }\n\n    \n        return (\n                <div className=\"parent\">\n                    <Navigation />\n                    <SideMenu />\n                     <EventsHeader headline={\"Restaurants where you can enjoy a glass with a nice meal\"} />\n                    <div className=\"wineBarsContainer\">\n                        <br />\n                        <form className={classes.root} noValidate autoComplete=\"off\" id=\"zipCodeForm\" onSubmit={e => {e.preventDefault();}}>\n                            <label htmlFor=\"zipcode\">Zipcode</label>\n                                <TextField id=\"outlined-basic\" label={zipCode} variant=\"outlined\" name=\"zipcode\" id=\"zipcode\" placeholder={zipCode}  inputProps={{ maxLength:5 }} onChange={onChange}  />\n                                {(errors.zipcode.length > 0) &&\n                                <p className=\"error\">{errors.zipCode}</p>\n                                }\n                                {/* <div className=\"buttons\">\n                                    <button className=\"button is-info is-light is-medium is-fullwidth\" onClick={updateZipcode}>Update</button>\n                                </div> */}\n                                {zipCodeSave &&\n                                    <span style={{color: \"green\"}}>Zip Code successfully saved.</span>\n                                }\n            \n                        </form>\n                        {data.hasOwnProperty(\"businesses\") &&\n                        \n                        Object.entries(data.businesses).map(([key, value], i) => {\n                            return (\n                                <Restaurant\n                                    key={value.id}\n                                    name={value.name} \n                                    display_name={value.display_phone}\n                                    display_address={value.location.display_address.join(\"\\n\")}\n                                    price={value.price}\n                                    url={value.url}\n                                />\n                            )\n                        })\n\n                        }\n                        \n                    \n                    </div>\n            </div>\n           \n        );\n    \n}\n\nexport default Restaurants;"]},"metadata":{},"sourceType":"module"}