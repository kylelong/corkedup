{"ast":null,"code":"var _jsxFileName = \"/Users/kylelong/corkedup/src/components/Payment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Logo from './Logo';\nimport '../Payment.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch'\n    }\n  }\n}));\n\nfunction Payment(props) {\n  _s();\n\n  const classes = useStyles();\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [card, setCard] = useState(\"\");\n  const [fullName, setFullName] = useState(\"\");\n  const [accessCode, setAccessCode] = useState(\"\");\n  const [expDate, setExpDate] = useState(\"\");\n  const [cvv, setCVV] = useState(\"\");\n  const [errors, setErrors] = useState({\n    accessCode: \"\",\n    cardNumber: \"\",\n    fullName: \"\",\n    accessCode: \"\",\n    expDate: \"\",\n    cvv: \"\"\n  });\n\n  const validName = name => {\n    return name.length > 0 && name.length < 55;\n  };\n\n  const validCard = card => {\n    const regEx = /^[0-9]{16}$/;\n    return regEx.test(card);\n  };\n\n  const validCVV = cvv => {\n    // 3,4 digit number\n    const regEx = /^[0-9]{3,4}$/;\n    return regEx.test(cvv);\n  };\n\n  const validDate = date => {\n    // MM/YY\n    const regEx = /^(0[1-9]|1[0-2])\\/?([0-9]{2})$/;\n    return regEx.test(date);\n  };\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    if (name === \"accessCode\") {\n      setAccessCode(value);\n    }\n\n    if (name === \"cardNumber\") {\n      setCardNumber(value.replace(/[^\\dA-Z]/g, '').replace(/(.{4})/g, '$1 ').trim());\n      let card = value.replace(/\\s/g, \"\");\n      setCard(card);\n\n      if (!validCard(card)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cardNumber: \"Card number must be 16 digits.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cardNumber: \"\"\n        }));\n      }\n    }\n\n    if (name === \"fullName\") {\n      setFullName(value);\n\n      if (value.length > 55) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          fullName: \"Name must be less than 55 characters.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          fullName: \"\"\n        }));\n      }\n    }\n\n    if (name === \"expDate\") {\n      setExpDate(value);\n\n      if (!validDate(value)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          expDate: \"Date must be digits in the format MM/YY.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          expDate: \"\"\n        }));\n      }\n    }\n\n    if (name === \"cvv\") {\n      setCVV(value);\n\n      if (!validCVV(value)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cvv: \"CVV must be a 3 or 4 digit number.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cvv: \"\"\n        }));\n      }\n    }\n  };\n\n  const clickedButton = e => {\n    e.preventDefault(); //Check for blank\n\n    if (fullName.length === 0) {\n      setErrors(prevErrors => ({ ...prevErrors,\n        fullName: \"Name can't be empty.\"\n      }));\n    } else {\n      setErrors(prevErrors => ({ ...prevErrors,\n        fullName: \"\"\n      }));\n    } // if(cardNumber.length === 0){\n    //     setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number can't be empty.\" }));\n    // } else{\n    //     setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"\" }));\n    // }\n\n\n    if (expDate.length === 0) {\n      setErrors(prevErrors => ({ ...prevErrors,\n        expDate: \"Expiration date can't be empty.\"\n      }));\n    } else {\n      setErrors(prevErrors => ({ ...prevErrors,\n        expDate: \"\"\n      }));\n    } // if(cvv.length === 0){\n    //     setErrors(prevErrors => ({ ...prevErrors, cvv: \"Security code can't be empty.\" }));\n    // } else{\n    //     setErrors(prevErrors => ({ ...prevErrors, cvv: \"\" }));\n    // }\n\n    /*\n    if access code is valid and cc info is entered, ignore cc infor\n    */\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        id: \"instruction\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Almost there! Enter your payment information to start enjoying Corked Up. Enjoy your 14 day trial now!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.root,\n        noValidate: true,\n        autoComplete: \"off\",\n        id: \"signupForm\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Access Code\",\n          variant: \"outlined\",\n          name: \"accessCode\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \" or \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Name On Card\",\n          variant: \"outlined\",\n          name: \"fullName\",\n          placeholder: \"John Doe\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), errors.fullName.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.fullName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Card Number\",\n          variant: \"outlined\",\n          name: \"cardNumber\",\n          placeholder: \"XXXX XXXX XXXX XXXX\",\n          value: cardNumber,\n          inputProps: {\n            maxLength: 19\n          },\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), (card.length === 0 || errors.cardNumber.length > 0 && card.length > 15) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.cardNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Expiration Date\",\n          variant: \"outlined\",\n          name: \"expDate\",\n          placeholder: \"MM/YY\",\n          inputProps: {\n            maxLength: 5\n          },\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), (expDate.length === 0 || errors.expDate.length > 0 && expDate.length === 5) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.expDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Security Code\",\n          variant: \"outlined\",\n          name: \"cvv\",\n          placeholder: \"***\",\n          inputProps: {\n            maxLength: 4\n          },\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), errors.cvv.length > 0 && cvv.length > 2 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.cvv\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button is-info is-light is-medium is-fullwidth\",\n            onClick: clickedButton,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Already an account? Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Payment, \"79NQO0wmu1s/hMzpTjoiag43wDw=\", false, function () {\n  return [useStyles];\n});\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["/Users/kylelong/corkedup/src/components/Payment.js"],"names":["React","useEffect","useState","Logo","makeStyles","TextField","Link","useStyles","theme","root","margin","spacing","width","Payment","props","classes","cardNumber","setCardNumber","card","setCard","fullName","setFullName","accessCode","setAccessCode","expDate","setExpDate","cvv","setCVV","errors","setErrors","validName","name","length","validCard","regEx","test","validCVV","validDate","date","onChange","e","value","target","replace","trim","prevErrors","clickedButton","preventDefault","textAlign","maxLength"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Logo from './Logo';\nimport '../Payment.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from \"react-router-dom\";\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '25ch',\n      },\n    },\n  }));\nfunction Payment(props) {\n\n    const classes = useStyles();\n    const [cardNumber, setCardNumber] = useState(\"\");\n    const [card, setCard] = useState(\"\");\n    const [fullName, setFullName] = useState(\"\");\n    const [accessCode, setAccessCode] = useState(\"\");\n    const [expDate, setExpDate] = useState(\"\");\n    const [cvv, setCVV] = useState(\"\");\n    const [errors, setErrors] = useState({\n        accessCode: \"\",\n        cardNumber: \"\",\n        fullName: \"\",\n        accessCode: \"\",\n        expDate: \"\",\n        cvv: \"\"\n    });\n\n    const validName = (name) => {\n        return name.length > 0 && name.length < 55;\n    }\n\n    const validCard = (card) => {\n        const regEx = /^[0-9]{16}$/;\n        return regEx.test(card);\n    }\n\n    const validCVV = (cvv) => {\n        // 3,4 digit number\n        const regEx = /^[0-9]{3,4}$/;\n        return regEx.test(cvv);\n    }\n\n    const validDate = (date) => {\n        // MM/YY\n        const regEx = /^(0[1-9]|1[0-2])\\/?([0-9]{2})$/;\n        return regEx.test(date);\n    }\n\n    const onChange = (e) => {\n        const { name, value } = e.target;\n        if(name === \"accessCode\"){\n            setAccessCode(value);\n        }\n        if(name === \"cardNumber\"){\n            setCardNumber(value.replace(/[^\\dA-Z]/g, '').replace(/(.{4})/g, '$1 ').trim());\n            let card = value.replace(/\\s/g, \"\");\n            setCard(card);\n            if(!validCard(card)){\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number must be 16 digits.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"\" }));\n            }\n        }\n        if(name === \"fullName\"){\n            setFullName(value);\n            if(value.length > 55){\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"Name must be less than 55 characters.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"\" }));\n            }\n        }\n        if(name === \"expDate\"){\n            setExpDate(value);\n            if(!validDate(value)){\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"Date must be digits in the format MM/YY.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"\" }));\n            }\n        }\n        if(name === \"cvv\"){\n            setCVV(value);\n            if(!validCVV(value)){\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"CVV must be a 3 or 4 digit number.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"\" }));\n            }\n        }\n\n    }\n\n    const clickedButton = (e) => {\n        e.preventDefault();\n        //Check for blank\n        if(fullName.length  === 0){\n            setErrors(prevErrors => ({ ...prevErrors, fullName: \"Name can't be empty.\" }));\n        } else{\n            setErrors(prevErrors => ({ ...prevErrors, fullName: \"\" }));\n        }\n\n        // if(cardNumber.length === 0){\n        //     setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number can't be empty.\" }));\n        // } else{\n        //     setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"\" }));\n        // }\n\n        if(expDate.length === 0){\n            setErrors(prevErrors => ({ ...prevErrors, expDate: \"Expiration date can't be empty.\" }));\n        } else{\n            setErrors(prevErrors => ({ ...prevErrors, expDate: \"\" }));\n        }\n\n        // if(cvv.length === 0){\n        //     setErrors(prevErrors => ({ ...prevErrors, cvv: \"Security code can't be empty.\" }));\n        // } else{\n        //     setErrors(prevErrors => ({ ...prevErrors, cvv: \"\" }));\n        // }\n        /*\n        if access code is valid and cc info is entered, ignore cc infor\n        */\n    }\n\n    return (\n        <div className=\"main\">\n            <div className=\"container\">\n                <Logo />\n                <h3 id=\"instruction\"><b>Almost there! Enter your payment information to start enjoying Corked Up. Enjoy your 14 day trial now!</b></h3>\n                <form className={classes.root} noValidate autoComplete=\"off\" id=\"signupForm\">\n                     <TextField id=\"outlined-basic\" label=\"Access Code\" variant=\"outlined\" name=\"accessCode\" onChange={onChange} />\n                    <span style={{textAlign: \"center\"}}> or </span>\n\n                    <TextField id=\"outlined-basic\" label=\"Name On Card\" variant=\"outlined\" name=\"fullName\" placeholder=\"John Doe\" onChange={onChange} />\n                    { (errors.fullName.length > 0) &&\n                       <p className=\"error\">{errors.fullName}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Card Number\" variant=\"outlined\" name=\"cardNumber\" placeholder=\"XXXX XXXX XXXX XXXX\" value={cardNumber} inputProps={{ maxLength:19 }} onChange={onChange} />\n                    { (card.length === 0 || (errors.cardNumber.length > 0 && card.length > 15) ) &&\n                       <p className=\"error\">{errors.cardNumber}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Expiration Date\" variant=\"outlined\" name=\"expDate\" placeholder=\"MM/YY\" inputProps={{ maxLength:5 }} onChange={onChange} />\n                    { (expDate.length === 0 || (errors.expDate.length > 0 && expDate.length === 5 )) &&\n                       <p className=\"error\">{errors.expDate}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Security Code\" variant=\"outlined\" name=\"cvv\" placeholder=\"***\" inputProps={{ maxLength:4 }} onChange={onChange} />\n                    {(errors.cvv.length > 0 && cvv.length > 2)&&\n                       <p className=\"error\">{errors.cvv}</p>\n                    }\n                 \n                            <div className=\"buttons\">\n                                <button className=\"button is-info is-light is-medium is-fullwidth\"  onClick={clickedButton}>Submit</button> \n                            </div>\n                       \n                    <Link to=\"/\">Already an account? Sign in</Link>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Payment;"]},"metadata":{},"sourceType":"module"}