{"ast":null,"code":"var _jsxFileName = \"/Users/kylelong/corkedup/src/components/Payment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Logo from './Logo';\nimport '../styles/Payment.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from \"react-router-dom\";\n/** \n * check for valid access code. Access code is correct or not, no empty\n * Errors with blank content in all boxes then submit valid code\n * If accesscode is valid disregard an cc info\n *  Proceed if accesscode is valid or no errors and everything is filled\n * if accesscode is corrent or (every field other than accesscode is valid and no errors)\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch'\n    }\n  }\n}));\n\nfunction Payment(props) {\n  _s();\n\n  const classes = useStyles();\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [card, setCard] = useState(\"\");\n  const [fullName, setFullName] = useState(\"\");\n  const [accessCode, setAccessCode] = useState(\"\");\n  const [expDate, setExpDate] = useState(\"\");\n  const [cvv, setCVV] = useState(\"\");\n  const [errors, setErrors] = useState({\n    accessCode: \"\",\n    cardNumber: \"\",\n    fullName: \"\",\n    accessCode: \"\",\n    expDate: \"\",\n    cvv: \"\"\n  });\n\n  const validName = name => {\n    return name.length > 0 && name.length < 55;\n  };\n\n  const validCode = code => {\n    return code === \"kU3G4VpNFR\";\n  };\n\n  const validCard = card => {\n    const regEx = /^[0-9]{16}$/;\n    return regEx.test(card);\n  };\n\n  const validCVV = cvv => {\n    // 3,4 digit number\n    const regEx = /^[0-9]{3,4}$/;\n    return regEx.test(cvv);\n  };\n\n  const validDate = date => {\n    // MM/YY\n    const regEx = /^(0[1-9]|1[0-2])\\/?([0-9]{2})$/;\n    return regEx.test(date);\n  };\n\n  const validPayment = () => {\n    return validName(fullName) && validCVV(cvv) && validDate(expDate) && validCard(card);\n  };\n\n  const containsErrors = () => {\n    for (let error in errors) {\n      if (errors[error].length > 0) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    if (name === \"accessCode\") {\n      setAccessCode(value);\n    }\n\n    if (name === \"cardNumber\") {\n      setCardNumber(value.replace(/[^\\dA-Z]/g, '').replace(/(.{4})/g, '$1 ').trim());\n      let card = value.replace(/\\s/g, \"\");\n      setCard(card);\n\n      if (!validCard(card)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cardNumber: \"Card number must be 16 digits.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cardNumber: \"\"\n        }));\n      }\n    }\n\n    if (name === \"fullName\") {\n      setFullName(value);\n\n      if (value.length > 55) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          fullName: \"Name must be less than 55 characters.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          fullName: \"\"\n        }));\n      }\n    }\n\n    if (name === \"expDate\") {\n      setExpDate(value);\n\n      if (!validDate(value)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          expDate: \"Must be a valid date in the format MM/YY.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          expDate: \"\"\n        }));\n      }\n    }\n\n    if (name === \"cvv\") {\n      setCVV(value);\n\n      if (!validCVV(value)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cvv: \"CVV must be a 3 or 4 digit number.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cvv: \"\"\n        }));\n      }\n    }\n  };\n\n  const clickedButton = e => {\n    // console.log(\"Payment: \", validPayment(), \"code: \", accessCode.length > 0 && validCode(accessCode));\n    //kU3G4VpNFR\n    // console.log( ( (accessCode.length > 0 && validCode(accessCode)) || validPayment() ));\n    if (accessCode.length > 0 && !validCode(accessCode)) {\n      e.preventDefault();\n    }\n\n    if (!validPayment() && !(accessCode.length > 0)) {\n      e.preventDefault();\n    } //Check for blank\n\n\n    if (accessCode.length > 0) {\n      if (!validCode(accessCode)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          accessCode: \"Invalid access code.\"\n        }));\n      }\n    } else {\n      if (fullName.length === 0) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          fullName: \"Name can't be empty.\"\n        }));\n      } else if (fullName.length > 55) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          fullName: \"Name must be less than 55 characters.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          fullName: \"\"\n        }));\n      }\n\n      if (cardNumber.length === 0) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cardNumber: \"Card number can't be empty.\"\n        }));\n      } else if (!validCard(card)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cardNumber: \"Card number must be 16 digits.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cardNumber: \"\"\n        }));\n      }\n\n      if (expDate.length === 0) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          expDate: \"Expiration date can't be empty.\"\n        }));\n      } else if (!validDate(expDate)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          expDate: \"Must be a valid date in the format MM/YY.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          expDate: \"\"\n        }));\n      }\n\n      if (cvv.length === 0) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cvv: \"Security code can't be empty.\"\n        }));\n      } else if (!validCVV(cvv)) {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cvv: \"CVV must be a 3 or 4 digit number.\"\n        }));\n      } else {\n        setErrors(prevErrors => ({ ...prevErrors,\n          cvv: \"\"\n        }));\n      }\n    }\n    /*\n    if access code is valid and cc info is entered, ignore cc infor\n    */\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main2\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container2\",\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          id: \"instruction\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Almost there! Enter your payment information to start enjoying Corked Up. Enjoy your 14 day trial now!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"cost\",\n          children: \"After your 14 day trial, Corked Up is $10 per month.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.root,\n        noValidate: true,\n        autoComplete: \"off\",\n        id: \"signupForm\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Access Code\",\n          variant: \"outlined\",\n          name: \"accessCode\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 22\n        }, this), errors.accessCode.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.accessCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \" or \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Name On Card\",\n          variant: \"outlined\",\n          name: \"fullName\",\n          placeholder: \"John Doe\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), errors.fullName.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.fullName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Card Number\",\n          variant: \"outlined\",\n          name: \"cardNumber\",\n          placeholder: \"#### #### #### ####\",\n          value: cardNumber,\n          inputProps: {\n            maxLength: 19\n          },\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), errors.cardNumber.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.cardNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Expiration Date\",\n          variant: \"outlined\",\n          name: \"expDate\",\n          placeholder: \"MM/YY\",\n          inputProps: {\n            maxLength: 5\n          },\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), errors.expDate.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.expDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Security Code\",\n          variant: \"outlined\",\n          name: \"cvv\",\n          placeholder: \"***\",\n          inputProps: {\n            maxLength: 4\n          },\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), errors.cvv.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.cvv\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 24\n        }, this), accessCode.length > 0 && validCode(accessCode) || validPayment() ? /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/home\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttons\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-info is-light is-medium is-fullwidth\",\n              onClick: clickedButton,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button is-info is-light is-medium is-fullwidth\",\n            onClick: clickedButton,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Already an account? Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Payment, \"79NQO0wmu1s/hMzpTjoiag43wDw=\", false, function () {\n  return [useStyles];\n});\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["/Users/kylelong/corkedup/src/components/Payment.js"],"names":["React","useEffect","useState","Logo","makeStyles","TextField","Link","useStyles","theme","root","margin","spacing","width","Payment","props","classes","cardNumber","setCardNumber","card","setCard","fullName","setFullName","accessCode","setAccessCode","expDate","setExpDate","cvv","setCVV","errors","setErrors","validName","name","length","validCode","code","validCard","regEx","test","validCVV","validDate","date","validPayment","containsErrors","error","onChange","e","value","target","replace","trim","prevErrors","clickedButton","preventDefault","textAlign","maxLength"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Logo from './Logo';\nimport '../styles/Payment.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from \"react-router-dom\";\n/** \n * check for valid access code. Access code is correct or not, no empty\n * Errors with blank content in all boxes then submit valid code\n * If accesscode is valid disregard an cc info\n *  Proceed if accesscode is valid or no errors and everything is filled\n * if accesscode is corrent or (every field other than accesscode is valid and no errors)\n */\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '25ch',\n      },\n    },\n  }));\nfunction Payment(props) {\n\n    const classes = useStyles();\n    const [cardNumber, setCardNumber] = useState(\"\");\n    const [card, setCard] = useState(\"\");\n    const [fullName, setFullName] = useState(\"\");\n    const [accessCode, setAccessCode] = useState(\"\");\n    const [expDate, setExpDate] = useState(\"\");\n    const [cvv, setCVV] = useState(\"\");\n    const [errors, setErrors] = useState({\n        accessCode: \"\",\n        cardNumber: \"\",\n        fullName: \"\",\n        accessCode: \"\",\n        expDate: \"\",\n        cvv: \"\"\n    });\n\n    const validName = (name) => {\n        return name.length > 0 && name.length < 55;\n    }\n    const validCode = (code) => {\n        return code === \"kU3G4VpNFR\";\n    }\n    const validCard = (card) => {\n        const regEx = /^[0-9]{16}$/;\n        return regEx.test(card);\n    }\n\n    const validCVV = (cvv) => {\n        // 3,4 digit number\n        const regEx = /^[0-9]{3,4}$/;\n        return regEx.test(cvv);\n    }\n\n    const validDate = (date) => {\n        // MM/YY\n        const regEx = /^(0[1-9]|1[0-2])\\/?([0-9]{2})$/;\n        return regEx.test(date);\n    }\n    const validPayment = () => {\n        return validName(fullName) && validCVV(cvv) && validDate(expDate) && validCard(card);\n    }\n\n    const containsErrors = () => {\n        for(let error in errors){\n            if(errors[error].length > 0){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    const onChange = (e) => {\n        const { name, value } = e.target;\n        if(name === \"accessCode\"){\n            setAccessCode(value);\n        }\n        if(name === \"cardNumber\"){\n            setCardNumber(value.replace(/[^\\dA-Z]/g, '').replace(/(.{4})/g, '$1 ').trim());\n            let card = value.replace(/\\s/g, \"\");\n            setCard(card);\n            if(!validCard(card)){\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number must be 16 digits.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"\" }));\n            }\n        }\n        if(name === \"fullName\"){\n            setFullName(value);\n            if(value.length > 55){\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"Name must be less than 55 characters.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"\" }));\n            }\n        }\n        if(name === \"expDate\"){\n            setExpDate(value);\n            if(!validDate(value)){\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"Must be a valid date in the format MM/YY.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"\" }));\n            }\n        }\n        if(name === \"cvv\"){\n            setCVV(value);\n            if(!validCVV(value)){\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"CVV must be a 3 or 4 digit number.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"\" }));\n            }\n        }\n\n    }\n\n    const clickedButton = (e) => {\n        // console.log(\"Payment: \", validPayment(), \"code: \", accessCode.length > 0 && validCode(accessCode));\n        //kU3G4VpNFR\n        // console.log( ( (accessCode.length > 0 && validCode(accessCode)) || validPayment() ));\n\n        if(accessCode.length > 0 && !validCode(accessCode)){\n            e.preventDefault();\n        }\n\n        if(!validPayment() && !(accessCode.length > 0)){\n            e.preventDefault();\n        }\n\n\n        //Check for blank\n        if(accessCode.length > 0){\n            if(!validCode(accessCode)){\n                setErrors(prevErrors => ({ ...prevErrors, accessCode: \"Invalid access code.\" }));\n            }\n        } else{\n            if(fullName.length  === 0){\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"Name can't be empty.\" }));\n            } else if(fullName.length > 55){\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"Name must be less than 55 characters.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, fullName: \"\" }));\n            }\n    \n            if(cardNumber.length === 0){\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number can't be empty.\" }));\n            } else if(!validCard(card)){\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"Card number must be 16 digits.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cardNumber: \"\" }));\n            }\n    \n            if(expDate.length === 0){\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"Expiration date can't be empty.\" }));\n            } else if(!validDate(expDate)){\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"Must be a valid date in the format MM/YY.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, expDate: \"\" }));\n            }\n    \n            if(cvv.length === 0){\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"Security code can't be empty.\" }));\n            }  else if(!validCVV(cvv)){\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"CVV must be a 3 or 4 digit number.\" }));\n            } else{\n                setErrors(prevErrors => ({ ...prevErrors, cvv: \"\" }));\n            }\n        }\n    \n        /*\n        if access code is valid and cc info is entered, ignore cc infor\n        */\n    }\n\n    return (\n        <div className=\"main2\">\n            <div className=\"container2\">\n                <Logo />\n                <div>\n                    <h3 id=\"instruction\"><b>Almost there! Enter your payment information to start enjoying Corked Up. Enjoy your 14 day trial now!</b></h3>\n                    <p id=\"cost\">After your 14 day trial, Corked Up is $10 per month.</p>\n                </div>\n\n                <form className={classes.root} noValidate autoComplete=\"off\" id=\"signupForm\">\n                     <TextField id=\"outlined-basic\" label=\"Access Code\" variant=\"outlined\" name=\"accessCode\" onChange={onChange} />\n                     { (errors.accessCode.length > 0) &&\n                       <p className=\"error\">{errors.accessCode}</p>\n                    }\n\n                    <span style={{textAlign: \"center\"}}> or </span>\n\n                    <TextField id=\"outlined-basic\" label=\"Name On Card\" variant=\"outlined\" name=\"fullName\" placeholder=\"John Doe\" onChange={onChange} />\n                    { (errors.fullName.length > 0) &&\n                       <p className=\"error\">{errors.fullName}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Card Number\" variant=\"outlined\" name=\"cardNumber\" placeholder=\"#### #### #### ####\" value={cardNumber} inputProps={{ maxLength:19 }} onChange={onChange} />\n                    { (errors.cardNumber.length > 0) &&\n                       <p className=\"error\">{errors.cardNumber}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Expiration Date\" variant=\"outlined\" name=\"expDate\" placeholder=\"MM/YY\" inputProps={{ maxLength:5 }} onChange={onChange} />\n                    { (errors.expDate.length > 0) &&\n                       <p className=\"error\">{errors.expDate}</p>\n                    }\n\n                    <TextField id=\"outlined-basic\" label=\"Security Code\" variant=\"outlined\" name=\"cvv\" placeholder=\"***\" inputProps={{ maxLength:4 }} onChange={onChange} />\n                    {(errors.cvv.length > 0)&&\n                       <p className=\"error\">{errors.cvv}</p>\n                    }\n                 \n                 { ((accessCode.length > 0 && validCode(accessCode)) || validPayment() )  ?\n                            <Link to=\"/home\">\n                                <div className=\"buttons\">\n                                    <button className=\"button is-info is-light is-medium is-fullwidth\" onClick={clickedButton}>Submit</button> \n                                </div>\n                            </Link>\n                            :\n                            <div className=\"buttons\">\n                                <button className=\"button is-info is-light is-medium is-fullwidth\"  onClick={clickedButton}>Submit</button> \n                            </div>\n                       }\n                       \n                    <Link to=\"/\">Already an account? Sign in</Link>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Payment;"]},"metadata":{},"sourceType":"module"}