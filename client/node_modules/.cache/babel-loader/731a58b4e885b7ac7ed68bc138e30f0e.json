{"ast":null,"code":"import _objectSpread from\"/Users/kylelong/corkedup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kylelong/corkedup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Logo from'./Logo';import'../styles/Signup.css';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import{Link}from\"react-router-dom\";//TODO: check if already logged in before visiting this page\n//make sure user exists in db before redirectin to home\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{'& > *':{margin:theme.spacing(1),width:'25ch'}}};});function SignUp(props){var classes=useStyles();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var onChange=function onChange(e){var name=e.target.name;name===\"email\"?setEmail(e.target.value):setPassword(e.target.value);validEmail(email);validPassword(password);};//Email validation\nvar validEmail=function validEmail(email){var regEx=/^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/;if(!email.match(regEx)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{email:\"Email must be valid.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{email:\"\"});});}return regEx.test(email);};//Password validation\nvar minPasswordLength=function minPasswordLength(password){return password.length<7;};var maxPasswordLength=function maxPasswordLength(password){return password.length<55;};var validPassword=function validPassword(password){if(minPasswordLength(password)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{password:\"Password must be at least 8 characters.\"});});}else if(!maxPasswordLength(password)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{password:\"Password must be at less than 55 characters.\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{password:\"\"});});}return!minPasswordLength(password)&&maxPasswordLength(password);};//Clicked \"Continue\"\nvar clickedButton=function clickedButton(e){if(validEmail(email)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{email:\"\"});});}if(validPassword(password)){setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{password:\"\"});});}if(!validEmail(email)||!validPassword(password)){e.preventDefault();}};return/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Welcome to Corked Up. Create your account.\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",id:\"signupForm\",children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Email\",variant:\"outlined\",name:\"email\",onChange:onChange}),errors.email.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Password\",variant:\"outlined\",name:\"password\",type:\"password\",onChange:onChange}),errors.password.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.password}),errors.email.length===0&&errors.password.length===0?/*#__PURE__*/_jsx(Link,{to:\"/payment\",children:/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-light is-medium is-fullwidth\",onClick:clickedButton,children:\"Continue\"})})}):/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-info is-light is-medium is-fullwidth\",onClick:clickedButton,children:\"Continue\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Already an account? Sign in\"})]})]})});}export default SignUp;","map":{"version":3,"sources":["/Users/kylelong/corkedup/src/components/SignUp.js"],"names":["React","useEffect","useState","Logo","makeStyles","TextField","Link","useStyles","theme","root","margin","spacing","width","SignUp","props","classes","email","password","errors","setErrors","setEmail","setPassword","onChange","e","name","target","value","validEmail","validPassword","regEx","match","prevErrors","test","minPasswordLength","length","maxPasswordLength","clickedButton","preventDefault"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Logo from './Logo';\nimport '../styles/Signup.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from \"react-router-dom\";\n//TODO: check if already logged in before visiting this page\n//make sure user exists in db before redirectin to home\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    },\n  },\n}));\n\nfunction SignUp(props) {\n    \n    const classes = useStyles();\n    const [errors, setErrors] = useState({email: \"\", password: \"\"});\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const onChange = (e) => {\n        const { name } = e.target;\n        name === \"email\" ? setEmail(e.target.value) : setPassword(e.target.value);\n        validEmail(email);\n        validPassword(password);\n    }\n\n    //Email validation\n    const validEmail = (email) => {\n        const regEx = /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/;\n        if(!email.match(regEx)){\n            setErrors(prevErrors => ({ ...prevErrors, email: \"Email must be valid.\" }));\n        } else{\n            setErrors(prevErrors => ({ ...prevErrors, email: \"\" }));\n        }\n        return regEx.test(email);\n    }\n    //Password validation\n    const minPasswordLength = (password) => {\n        return password.length < 7;\n    }\n    const maxPasswordLength = (password) => {\n        return password.length < 55;\n    }\n    const validPassword = (password) => {\n        if(minPasswordLength(password)){\n            setErrors(prevErrors => ({ ...prevErrors, password: \"Password must be at least 8 characters.\" }));\n        }\n        else if(!maxPasswordLength(password)){\n            setErrors(prevErrors => ({ ...prevErrors, password: \"Password must be at less than 55 characters.\" }));\n        } else{\n            setErrors(prevErrors => ({ ...prevErrors, password: \"\" }));\n        }\n        return (!minPasswordLength(password) && maxPasswordLength(password));\n    }\n    //Clicked \"Continue\"\n    const clickedButton = (e) => {\n        if(validEmail(email)){\n            setErrors(prevErrors => ({ ...prevErrors, email: \"\" }));\n        }\n        if(validPassword(password)){\n            setErrors(prevErrors => ({ ...prevErrors, password: \"\" }));\n        }\n        if(!validEmail(email) || !validPassword(password)){\n            e.preventDefault();\n        }\n    }\n    return (\n        <div className=\"main\">\n            <div className=\"container\">\n                <Logo />\n                <h3>Welcome to Corked Up. Create your account.</h3>\n                <form className={classes.root} noValidate autoComplete=\"off\" id=\"signupForm\">\n                    <TextField id=\"outlined-basic\" label=\"Email\" variant=\"outlined\" name=\"email\" onChange={onChange} />\n                    {errors.email.length > 0 &&\n                       <p className=\"error\">{errors.email}</p>\n                    }\n                    <TextField id=\"outlined-basic\" label=\"Password\" variant=\"outlined\" name=\"password\" type=\"password\" onChange={onChange} />\n                    {(errors.password.length > 0) &&\n                       <p className=\"error\">{errors.password}</p>\n                    }\n                       { (errors.email.length === 0 && errors.password.length === 0) ?\n                            <Link to=\"/payment\">\n                                <div className=\"buttons\">\n                                    <button className=\"button is-info is-light is-medium is-fullwidth\" onClick={clickedButton}>Continue</button> \n                                </div>\n                            </Link>\n                            :\n                            <div className=\"buttons\">\n                                <button className=\"button is-info is-light is-medium is-fullwidth\"  onClick={clickedButton}>Continue</button> \n                            </div>\n                       }\n                    <Link to=\"/\">Already an account? Sign in</Link>\n                </form>\n            </div>\n        </div>\n\n    );\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}