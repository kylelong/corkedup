{"ast":null,"code":"import _defineProperty from\"/Users/kylelong/corkedup/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/kylelong/corkedup/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kylelong/corkedup/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState,useContext}from'react';import WineBar from'./WineBar';import EventsHeader from'./EventsHeader';import'../../styles/WineBars.css';import Navigation from'../Navigation';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import SideMenu from'../SideMenu';import{AuthContext}from'../../context/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{'& > *':{margin:theme.spacing(1),width:'25ch'}}};});var WineBars=function WineBars(){var _jsx2;var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState(user.zipCode),_useState2=_slicedToArray(_useState,2),zipCode=_useState2[0],setZipCode=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState({zipcode:\"\"}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),zipCodeSave=_useState8[0],setZipCodeSave=_useState8[1];var classes=useStyles();useEffect(function(){axios.get(\"/winebars\",{params:{zipCode:zipCode}}).then(function(response){setData(response.data);}).catch(function(error){console.log(error);});},[zipCode]);var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setZipCodeSave(false);if(name===\"zipcode\"){if(value.length===5){var regEx=/^[0-9]{5}$/;if(value.match(regEx)){console.log(value);setZipCode(value);setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{zipCode:\"\"});});}else{setErrors(function(prevErrors){return _objectSpread(_objectSpread({},prevErrors),{},{zipCode:\"Zipcode must be 5 digits\"});});}}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(SideMenu,{}),/*#__PURE__*/_jsx(EventsHeader,{headline:\"Reputable wine bars where you can enjoy a glass or two ðŸ˜\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wineBarsContainer\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",id:\"zipCodeForm\",onSubmit:function onSubmit(e){e.preventDefault();},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"zipcode\",children:\"Zipcode\"}),/*#__PURE__*/_jsx(TextField,(_jsx2={id:\"outlined-basic\",label:zipCode,variant:\"outlined\",name:\"zipcode\"},_defineProperty(_jsx2,\"id\",\"zipcode\"),_defineProperty(_jsx2,\"placeholder\",zipCode),_defineProperty(_jsx2,\"inputProps\",{maxLength:5}),_defineProperty(_jsx2,\"onChange\",onChange),_jsx2)),errors.zipcode.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.zipCode}),zipCodeSave&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"green\"},children:\"Zip Code successfully saved.\"})]}),data.hasOwnProperty(\"businesses\")&&Object.entries(data.businesses).map(function(_ref,i){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return/*#__PURE__*/_jsx(WineBar,{name:value.name,display_name:value.display_phone,display_address:value.location.display_address.join(\"\\n\"),price:value.price,url:value.url},value.id);})]})]});};export default WineBars;","map":{"version":3,"sources":["/Users/kylelong/corkedup/client/src/components/events/WineBars.js"],"names":["axios","React","useEffect","useState","useContext","WineBar","EventsHeader","Navigation","makeStyles","TextField","SideMenu","AuthContext","useStyles","theme","root","margin","spacing","width","WineBars","user","zipCode","setZipCode","data","setData","zipcode","errors","setErrors","zipCodeSave","setZipCodeSave","classes","get","params","then","response","catch","error","console","log","onChange","e","target","name","value","length","regEx","match","prevErrors","preventDefault","maxLength","color","hasOwnProperty","Object","entries","businesses","map","i","key","display_phone","location","display_address","join","price","url","id"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState, useContext } from 'react';\nimport WineBar from './WineBar';\nimport EventsHeader from './EventsHeader';\nimport '../../styles/WineBars.css';\nimport Navigation from '../Navigation';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport SideMenu from '../SideMenu';\n\nimport { AuthContext } from '../../context/auth';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n        width: '25ch',\n      },\n    },\n  }));\nconst WineBars = () =>  {\n\n    const { user } = useContext(AuthContext);\n    const [zipCode, setZipCode] = useState(user.zipCode);\n    const [data, setData] = useState([]);\n    const [errors, setErrors] = useState({zipcode: \"\"});\n    const [zipCodeSave, setZipCodeSave] = useState(false);\n\n    const classes = useStyles();\n    useEffect(() => {\n        axios.get(\"/winebars\", {params: { zipCode: zipCode} })\n        .then((response) => {\n            setData(response.data)\n        })\n        .catch((error) => {\n            console.log(error);\n        })\n\n    }, [zipCode])\n    const onChange = (e) => {\n        const { name, value } = e.target;\n        setZipCodeSave(false);\n        if(name === \"zipcode\"){\n            if(value.length  === 5){\n                const regEx = /^[0-9]{5}$/;\n                if(value.match(regEx)){\n                    console.log(value);\n                    setZipCode(value);\n                    setErrors(prevErrors => ({ ...prevErrors, zipCode: \"\" }));\n                }\n                else{\n                    setErrors(prevErrors => ({ ...prevErrors, zipCode: \"Zipcode must be 5 digits\" }));\n                }\n            }\n        }\n    }\n\n    \n        return (\n                <div className=\"parent\">\n                    <Navigation />\n                    <SideMenu />\n                    <EventsHeader headline={\"Reputable wine bars where you can enjoy a glass or two ðŸ˜\"}/>\n                <div className=\"wineBarsContainer\">\n                        <br />\n                        <form className={classes.root} noValidate autoComplete=\"off\" id=\"zipCodeForm\" onSubmit={e => {e.preventDefault();}}>\n                 <label htmlFor=\"zipcode\">Zipcode</label>\n                    <TextField id=\"outlined-basic\" label={zipCode} variant=\"outlined\" name=\"zipcode\" id=\"zipcode\" placeholder={zipCode}  inputProps={{ maxLength:5 }} onChange={onChange} />\n                    {(errors.zipcode.length > 0) &&\n                       <p className=\"error\">{errors.zipCode}</p>\n                    }\n          \n                    {zipCodeSave &&\n                        <span style={{color: \"green\"}}>Zip Code successfully saved.</span>\n                    }\n\n                </form>\n            \n                        { data.hasOwnProperty(\"businesses\") &&\n                            \n                            Object.entries(data.businesses).map(([key, value], i) => {\n                                return (\n                                    <WineBar \n                                        key={value.id}\n                                        name={value.name} \n                                        display_name={value.display_phone}\n                                        display_address={value.location.display_address.join(\"\\n\")}\n                                        price={value.price}\n                                        url={value.url}\n                                    />\n                                )\n                            })\n\n                        }\n                </div>\n\n     \n            </div>\n           \n        );\n    \n}\n\nexport default WineBars;"]},"metadata":{},"sourceType":"module"}